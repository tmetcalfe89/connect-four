{"version":3,"sources":["logic/Board.js","hooks/useConnectFourGame.js","components/ConnectFour/Cell.js","components/ConnectFour/Board.js","components/SeeMe.js","pages/ConnectFour.js","App.js","index.js"],"names":["Board","PLAYER_1","NO_PLAYER","TIE_PLAYER","PLAYER_2","X_CELLS","Y_CELLS","Cell","x","y","this","value","cells","Array","fill","map","e","getCell","player","j","i","getVal","reduce","rowCount","row","cellCount","cell","taken","winner","board","useConnectFourGame","notify","useState","setBoard","currentPlayer","setCurrentPlayer","useEffect","takeTurn","setCell","changeCell","findRow","resetGameState","onClick","className","toast","rowI","cellI","target","getAttribute","gameOver","position","host","window","location","subdomain","split","SeeMe","href","pathname","ConnectFour","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d85f3a99.chunk.js","sourcesContent":["function Board({\r\n  NO_PLAYER,\r\n  TIE_PLAYER,\r\n  PLAYER_1,\r\n  PLAYER_2,\r\n  X_CELLS,\r\n  Y_CELLS,\r\n}) {\r\n  class Cell {\r\n    constructor(x, y) {\r\n      this.value = NO_PLAYER;\r\n      this.x = x;\r\n      this.y = y;\r\n    }\r\n\r\n    get taken() {\r\n      return this.value !== NO_PLAYER;\r\n    }\r\n  }\r\n\r\n  return class Board {\r\n    constructor(cells) {\r\n      this.cells =\r\n        cells ||\r\n        new Array(Y_CELLS)\r\n          .fill()\r\n          .map((e, y) =>\r\n            new Array(X_CELLS).fill().map((e, x) => new Cell(x, y))\r\n          );\r\n    }\r\n\r\n    getCell(x, y) {\r\n      return this.cells[y][x];\r\n    }\r\n\r\n    getVal(x, y) {\r\n      return this.getCell(x, y).value;\r\n    }\r\n\r\n    setCell(x, y, value) {\r\n      this.getCell(x, y).value = value;\r\n    }\r\n\r\n    areFourConnected(player) {}\r\n\r\n    get winner() {\r\n      // horizontalCheck\r\n      for (let j = 0; j < Y_CELLS - 3; j++) {\r\n        for (let i = 0; i < X_CELLS; i++) {\r\n          let player = this.getVal(i, j);\r\n          if (\r\n            player !== NO_PLAYER &&\r\n            this.getVal(i, j + 1) === player &&\r\n            this.getVal(i, j + 2) === player &&\r\n            this.getVal(i, j + 3) === player\r\n          ) {\r\n            return player;\r\n          }\r\n        }\r\n      }\r\n      // verticalCheck\r\n      for (let i = 0; i < X_CELLS - 3; i++) {\r\n        for (let j = 0; j < Y_CELLS; j++) {\r\n          let player = this.getVal(i, j);\r\n          if (\r\n            player !== NO_PLAYER &&\r\n            this.getVal(i + 1, j) === player &&\r\n            this.getVal(i + 2, j) === player &&\r\n            this.getVal(i + 3, j) === player\r\n          ) {\r\n            return player;\r\n          }\r\n        }\r\n      }\r\n      // ascendingDiagonalCheck\r\n      for (let i = 3; i < X_CELLS; i++) {\r\n        for (let j = 0; j < Y_CELLS - 3; j++) {\r\n          let player = this.getVal(i, j);\r\n          if (\r\n            player !== NO_PLAYER &&\r\n            this.getVal(i - 1, j + 1) === player &&\r\n            this.getVal(i - 2, j + 2) === player &&\r\n            this.getVal(i - 3, j + 3) === player\r\n          )\r\n            return player;\r\n        }\r\n      }\r\n      // descendingDiagonalCheck\r\n      for (let i = 3; i < X_CELLS; i++) {\r\n        for (let j = 3; j < Y_CELLS; j++) {\r\n          let player = this.getVal(i, j);\r\n          if (\r\n            player !== NO_PLAYER &&\r\n            this.getVal(i - 1, j - 1) === player &&\r\n            this.getVal(i - 2, j - 2) === player &&\r\n            this.getVal(i - 3, j - 3) === player\r\n          )\r\n            return player;\r\n        }\r\n      }\r\n      // Tie\r\n      if (\r\n        this.cells.reduce(\r\n          (rowCount, row) =>\r\n            row.reduce(\r\n              (cellCount, cell) => (cell.taken ? cellCount + 1 : cellCount),\r\n              0\r\n            ) === X_CELLS\r\n              ? rowCount + 1\r\n              : rowCount,\r\n          0\r\n        ) === Y_CELLS\r\n      ) {\r\n        return TIE_PLAYER;\r\n      }\r\n      return NO_PLAYER;\r\n    }\r\n\r\n    get gameOver() {\r\n      return this.winner === PLAYER_1 || this.winner === PLAYER_2;\r\n    }\r\n  };\r\n}\r\n\r\nexport default Board;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport board from \"../logic/Board\";\r\n\r\nconst NO_PLAYER = \"-\";\r\nconst TIE_PLAYER = \"Nobody\";\r\nconst PLAYER_1 = \"X\";\r\nconst PLAYER_2 = \"O\";\r\nconst X_CELLS = 7;\r\nconst Y_CELLS = 6;\r\n\r\nconst Board = board({\r\n  NO_PLAYER,\r\n  TIE_PLAYER,\r\n  PLAYER_1,\r\n  PLAYER_2,\r\n  X_CELLS,\r\n  Y_CELLS,\r\n});\r\n\r\nexport default function useConnectFourGame({ notify }) {\r\n  const [board, setBoard] = useState(new Board());\r\n  const [currentPlayer, setCurrentPlayer] = useState(PLAYER_1);\r\n\r\n  const changeCell = (x, y, value) => {\r\n    if (board.getCell(x, y).taken) return false;\r\n    board.setCell(x, y, value);\r\n    return true;\r\n  };\r\n\r\n  const changePlayer = () => {\r\n    setCurrentPlayer(currentPlayer === PLAYER_1 ? PLAYER_2 : PLAYER_1);\r\n  };\r\n\r\n  const findRow = (x) => {\r\n    for (let y = Y_CELLS - 1; y >= 0; y--) {\r\n      if (!board.getCell(x, y).taken) {\r\n        return y;\r\n      }\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  const takeTurn = (x, y) => {\r\n    if (board.winner !== NO_PLAYER) return;\r\n    if (changeCell(x, findRow(x), currentPlayer)) {\r\n      changePlayer();\r\n    }\r\n  };\r\n\r\n  const resetGameState = () => {\r\n    setBoard(new Board());\r\n    setCurrentPlayer(PLAYER_1);\r\n    notify(\"Game reset\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (board.winner === NO_PLAYER) return;\r\n    notify(`${board.winner} has won!`);\r\n  }, [board.winner]);\r\n\r\n  return {\r\n    board,\r\n    takeTurn,\r\n    resetGameState,\r\n  };\r\n}\r\n","export default function Cell({ cell, onClick }) {\r\n  return (\r\n    <span\r\n      className={`cell ${!cell.taken && \"hidden\"}`}\r\n      onClick={onClick}\r\n      x={cell.x}\r\n      y={cell.y}\r\n    >\r\n      {cell.value}\r\n    </span>\r\n  );\r\n}\r\n","import { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport useConnectFourGame from \"../../hooks/useConnectFourGame\";\r\nimport Cell from \"./Cell\";\r\n\r\nimport \"./Board.css\";\r\n\r\nexport default function Board() {\r\n  const { board, takeTurn, resetGameState } = useConnectFourGame({\r\n    notify: toast,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"board\">\r\n        {board.cells.map((row, rowI) => (\r\n          <div className=\"row\" key={`row-${rowI}`}>\r\n            {row.map((cell, cellI) => (\r\n              <Cell\r\n                cell={cell}\r\n                key={`cell-${rowI}-${cellI}`}\r\n                onClick={(e) =>\r\n                  takeTurn(\r\n                    e.target.getAttribute(\"x\"),\r\n                    e.target.getAttribute(\"y\")\r\n                  )\r\n                }\r\n              />\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {board.gameOver && (\r\n        <button className=\"reset\" onClick={resetGameState}>\r\n          Reset\r\n        </button>\r\n      )}\r\n      <ToastContainer position=\"bottom-center\" />\r\n    </>\r\n  );\r\n}\r\n","import \"./seeme.css\";\r\n\r\nconst host = window.location.host;\r\n\r\nconst subdomain = host.split(\".\")[1] ? host.split(\".\")[0] : \"\";\r\n\r\nexport default function SeeMe({ location }) {\r\n  const getGitHubLink = () => {\r\n    return `https://github.com/${subdomain}${location.pathname}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"seeme\">\r\n      <a href={getGitHubLink()}>Come check me out on GitHub!</a>\r\n    </div>\r\n  );\r\n}\r\n","import Board from \"../components/ConnectFour/Board\";\r\nimport SeeMe from \"../components/SeeMe\";\r\n\r\nexport default function ConnectFour({ location }) {\r\n  return (\r\n    <>\r\n      <SeeMe location={location} />\r\n      <Board />\r\n    </>\r\n  );\r\n}\r\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport ConnectFour from \"./pages/ConnectFour\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/connect-four\" exact component={ConnectFour} />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}